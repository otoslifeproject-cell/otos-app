<!-- FILE: feeder.html (FULL REPLACEMENT) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OTOS Feeder</title>
  <link rel="stylesheet" href="app.css" />
</head>
<body>
  <main>
    <h1>OTOS Intake Feeder</h1>
    <p>Paste content below. This is a safe, append-only intake.</p>
    <textarea id="content" rows="12" placeholder="Paste content here..."></textarea>
    <button onclick="submit()">Submit</button>
    <pre id="status"></pre>
  </main>

  <script>
    async function submit() {
      const content = document.getElementById("content").value;
      document.getElementById("status").textContent = "Submitting...";
      try {
        const res = await fetch("/feeder", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ content, source: "ui" })
        });
        const json = await res.json();
        document.getElementById("status").textContent = JSON.stringify(json, null, 2);
      } catch (e) {
        document.getElementById("status").textContent = e.message;
      }
    }
  </script>
</body>
</html>
