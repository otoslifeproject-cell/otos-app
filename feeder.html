<nav style="margin-bottom:16px;">
  <a href="./index.html">Home</a> |
  <a href="./feeder.html">Feeder</a> |
  <a href="./signals.html">Signals</a> |
  <a href="./presence.html">Presence™</a>
</nav>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>OTOS Feeder</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root {
  --bg:#0f1115;
  --panel:#171a21;
  --accent:#00e676;
  --text:#e6e6e6;
  --muted:#9aa0a6;
}

body {
  margin:0;
  padding:20px;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

h1 { margin-top:0; }

label {
  display:block;
  margin-top:14px;
  font-size:13px;
  color:var(--muted);
}

input, textarea, select {
  width:100%;
  padding:10px;
  margin-top:6px;
  background:var(--panel);
  border:1px solid #2a2e38;
  color:var(--text);
  border-radius:6px;
}

button {
  margin-top:16px;
  padding:12px;
  width:100%;
  background:var(--accent);
  color:#000;
  border:none;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}

.small {
  margin-top:10px;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>

<h1>Feeder</h1>
<p class="small">Fast capture · zero friction · shared memory</p>

<label>Signal title</label>
<input id="title" placeholder="What’s happening right now?" />

<label>Notes (optional)</label>
<textarea id="notes" rows="3"></textarea>

<label>Confidence / intensity</label>
<select id="confidence">
  <option value="low">Low</option>
  <option value="medium">Medium</option>
  <option value="high">High</option>
</select>

<button onclick="addSignal()">Add to Signals</button>

<p class="small">Saved instantly · visible everywhere</p>

<script>
const STORE_KEY = "signals";

/* -------- Storage -------- */
function loadSignals() {
  try {
    return JSON.parse(localStorage.getItem(STORE_KEY)) || [];
  } catch {
    return [];
  }
}

function saveSignals(data) {
  localStorage.setItem(STORE_KEY, JSON.stringify(data));
  window.dispatchEvent(new StorageEvent("storage", { key: STORE_KEY }));
}

/* -------- Add -------- */
function addSignal() {
  const title = document.getElementById("title").value.trim();
  const notes = document.getElementById("notes").value.trim();
  const confidence = document.getElementById("confidence").value;

  if (!title) {
    alert("Signal needs a title");
    return;
  }

  const signals = loadSignals();

  signals.unshift({
    title,
    notes,
    confidence,
    ts: Date.now()
  });

  saveSignals(signals);

  document.getElementById("title").value = "";
  document.getElementById("notes").value = "";
  document.getElementById("confidence").value = "low";

  alert("Signal saved");
}
</script>

</body>
</html>
