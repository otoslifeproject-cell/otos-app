/* =========================
   OTOS Cockpit — Liquid Shell v1
   Visual-only: depth, colour, zone clarity, rubber-canvas fade
   ========================= */

:root {
  --bg: #f6f8fb;
  --ink: #0b1020;
  --muted: rgba(11, 16, 32, 0.62);
  --muted2: rgba(11, 16, 32, 0.42);

  --glass: rgba(255, 255, 255, 0.58);
  --glass2: rgba(255, 255, 255, 0.38);
  --stroke: rgba(10, 18, 40, 0.10);
  --stroke2: rgba(10, 18, 40, 0.14);

  --shadowA: 0 18px 50px rgba(16, 30, 60, 0.10);
  --shadowB: 0 10px 28px rgba(16, 30, 60, 0.10);
  --shadowC: 0 2px 0 rgba(255, 255, 255, 0.55) inset;

  --r: 26px;
  --r2: 22px;
  --pad: 18px;

  /* Zone tints (subtle orientation, not loud) */
  --t-parent: rgba(140, 110, 255, 0.22); /* indigo/violet */
  --t-spine: rgba(255, 190, 90, 0.18);   /* warm amber */
  --t-actions: rgba(90, 210, 255, 0.16); /* aqua */
  --t-pa: rgba(120, 255, 190, 0.14);     /* calming green */
  --t-system: rgba(210, 220, 255, 0.14); /* slatey */
  --t-ghost: rgba(255, 255, 255, 0.10);
}

/* Global reset */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--ink);
  background: var(--bg);
  overflow-x: hidden;
}

/* Background layers: grid + wash + vignette + noise */
.bg { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.bg__grid {
  position: absolute; inset: 0;
  background-image:
    linear-gradient(to right, rgba(11,16,32,0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(11,16,32,0.05) 1px, transparent 1px);
  background-size: 64px 64px;
  opacity: 0.28;
  filter: blur(0.25px);
}
.bg__wash {
  position: absolute; inset: -10%;
  background:
    radial-gradient(1200px 800px at 50% 40%, rgba(120, 180, 255, 0.26), transparent 65%),
    radial-gradient(900px 700px at 20% 20%, rgba(160, 120, 255, 0.22), transparent 62%),
    radial-gradient(1000px 800px at 80% 25%, rgba(255, 210, 120, 0.20), transparent 58%),
    radial-gradient(1200px 1000px at 60% 85%, rgba(120, 255, 190, 0.18), transparent 62%);
  filter: blur(18px) saturate(1.05);
  opacity: 0.95;
  transform: translateZ(0);
}
.bg__vignette {
  position: absolute; inset: -20%;
  background: radial-gradient(900px 650px at 50% 45%, transparent 40%, rgba(245, 248, 252, 0.92) 78%, rgba(245, 248, 252, 0.98) 100%);
  opacity: 0.95;
}
.bg__noise {
  position: absolute; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.20'/%3E%3C/svg%3E");
  opacity: 0.10;
  mix-blend-mode: multiply;
}

/* Canvas: rubber / elastic feel */
.canvas {
  position: relative;
  z-index: 1;
  max-width: 1280px;
  margin: 26px auto;
  padding: 18px;
  border-radius: 38px;

  /* “rubber canvas” falloff */
  background:
    radial-gradient(900px 700px at 50% 40%, rgba(255,255,255,0.66), rgba(255,255,255,0.30) 55%, rgba(255,255,255,0.08) 80%, rgba(255,255,255,0.00) 100%),
    linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.10));
  box-shadow: 0 32px 90px rgba(10, 18, 40, 0.10);
  border: 1px solid rgba(10, 18, 40, 0.06);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  /* subtle elastic hover “breath” */
  transition: transform 700ms cubic-bezier(.16,1,.22,1);
}
.canvas:hover { transform: translateY(-1px); }

/* Glass primitive */
.glass {
  background: linear-gradient(180deg, var(--glass), var(--glass2));
  border: 1px solid var(--stroke);
  box-shadow: var(--shadowA), var(--shadowC);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-radius: var(--r);
  position: relative;
  overflow: hidden;
}
.glass::before {
  content: "";
  position: absolute; inset: -40% -20%;
  background: radial-gradient(600px 420px at 30% 30%, rgba(255,255,255,0.75), transparent 60%);
  transform: rotate(6deg);
  opacity: 0.55;
  pointer-events: none;
}
.glass::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(120deg, rgba(255,255,255,0.18), transparent 45%, rgba(255,255,255,0.14));
  opacity: 0.55;
  pointer-events: none;
}

/* Topbar */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 18px;
  margin-bottom: 18px;
}
.glass--system { box-shadow: var(--shadowB), var(--shadowC); }
.brand { display: flex; align-items: center; gap: 12px; }
.brand__dot {
  width: 14px; height: 14px; border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(0,0,0,0.0)), linear-gradient(135deg, rgba(140,110,255,0.65), rgba(90,210,255,0.55));
  box-shadow: 0 10px 30px rgba(140,110,255,0.18);
}
.brand__title { font-weight: 800; font-size: 28px; letter-spacing: -0.02em; }
.brand__sub { color: var(--muted2); font-size: 13px; margin-top: 2px; }

.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 9px 12px;
  border-radius: 999px;
  font-size: 12px;
  color: rgba(11,16,32,0.70);
  border: 1px solid rgba(10,18,40,0.10);
  background: rgba(255,255,255,0.46);
  box-shadow: 0 10px 28px rgba(10,18,40,0.08);
  margin-left: 8px;
}
.pill--focus {
  background: rgba(255,255,255,0.62);
  border-color: rgba(10,18,40,0.14);
  color: rgba(11,16,32,0.82);
}

/* Zones grid */
.zones {
  display: grid;
  grid-template-columns: 360px 1fr 360px;
  grid-template-rows: auto auto;
  grid-template-areas:
    "parent spine pa"
    "parent actions ghost";
  gap: 18px;
  padding-bottom: 12px;
}

/* Zone base */
.zone {
  min-height: 220px;
  transform: translateZ(0);
  animation: floaty 6.2s ease-in-out infinite;
}
.zone:nth-child(2) { animation-delay: -1.1s; }
.zone:nth-child(3) { animation-delay: -2.2s; }
.zone:nth-child(4) { animation-delay: -0.8s; }
.zone:nth-child(5) { animation-delay: -1.8s; }

@keyframes floaty {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-4px); }
}

.zone__chrome {
  position: relative;
  padding: 16px 18px 10px 18px;
  z-index: 2;
}
.zone__title {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 800;
  letter-spacing: -0.01em;
}
.zone__icon { filter: saturate(1.1); }
.zone__meta {
  margin-top: 6px;
  color: var(--muted2);
  font-size: 12px;
}
.zone__handle {
  position: absolute;
  top: 14px;
  right: 14px;
  display: inline-flex;
  gap: 6px;
  padding: 10px 10px;
  border-radius: 999px;
  border: 1px solid rgba(10,18,40,0.10);
  background: rgba(255,255,255,0.36);
  box-shadow: 0 10px 26px rgba(10,18,40,0.08);
}
.handle__dot { width: 6px; height: 6px; border-radius: 999px; background: rgba(11,16,32,0.32); }

.zone__body {
  position: relative;
  z-index: 2;
  padding: 8px 18px 18px 18px;
}
.zone__footerHint {
  margin-top: 14px;
  color: rgba(11,16,32,0.42);
  font-size: 12px;
}

/* Zone placements */
.zone--parent { grid-area: parent; }
.zone--spine { grid-area: spine; min-height: 320px; }
.zone--pa { grid-area: pa; }
.zone--actions { grid-area: actions; }
.zone--ghost { grid-area: ghost; }

/* Zone tint overlays (depth + distinctness) */
.glass--parent { box-shadow: var(--shadowA), var(--shadowC); }
.glass--parent .zone__chrome::after,
.glass--parent .zone__body::before {
  content: "";
  position: absolute;
  inset: -40px -40px auto -40px;
  height: 220px;
  background: radial-gradient(550px 220px at 30% 30%, var(--t-parent), transparent 70%);
  pointer-events: none;
  opacity: 0.95;
  filter: blur(8px);
}

.glass--spine { box-shadow: 0 28px 80px rgba(10,18,40,0.12), var(--shadowC); }
.glass--spine .zone__chrome::after,
.glass--spine .zone__body::before {
  content: "";
  position: absolute;
  inset: -40px -40px auto -40px;
  height: 260px;
  background: radial-gradient(650px 260px at 50% 30%, var(--t-spine), transparent 72%);
  pointer-events: none;
  opacity: 0.95;
  filter: blur(8px);
}

.glass--actions { box-shadow: var(--shadowB), var(--shadowC); }
.glass--actions .zone__chrome::after,
.glass--actions .zone__body::before {
  content: "";
  position: absolute;
  inset: -40px -40px auto -40px;
  height: 240px;
  background: radial-gradient(600px 240px at 50% 35%, var(--t-actions), transparent 72%);
  pointer-events: none;
  opacity: 0.92;
  filter: blur(10px);
}

.glass--pa { box-shadow: var(--shadowB), var(--shadowC); }
.glass--pa .zone__chrome::after,
.glass--pa .zone__body::before {
  content: "";
  position: absolute;
  inset: -40px -40px auto -40px;
  height: 240px;
  background: radial-gradient(600px 240px at 40% 30%, var(--t-pa), transparent 72%);
  pointer-events: none;
  opacity: 0.90;
  filter: blur(10px);
}

.glass--ghost {
  border-style: dashed;
  opacity: 0.88;
}
.glass--ghost .zone__chrome::after,
.glass--ghost .zone__body::before {
  content: "";
  position: absolute;
  inset: -40px -40px auto -40px;
  height: 220px;
  background: radial-gradient(520px 220px at 45% 35%, rgba(210,220,255,0.14), transparent 75%);
  pointer-events: none;
  opacity: 0.85;
  filter: blur(12px);
}

.zone__body--center {
  display: grid;
  place-items: center;
  min-height: 230px;
}

/* Primary card */
.primaryCard {
  width: min(560px, 92%);
  border-radius: 28px;
  padding: 22px 22px;
  background: rgba(255,255,255,0.58);
  border: 1px solid rgba(10,18,40,0.10);
  box-shadow: 0 30px 90px rgba(10,18,40,0.12), 0 2px 0 rgba(255,255,255,0.6) inset;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  position: relative;
}
.primaryCard__kicker {
  font-size: 12px;
  color: rgba(11,16,32,0.55);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
.primaryCard__title {
  font-size: 28px;
  font-weight: 900;
  letter-spacing: -0.03em;
  margin-top: 8px;
}
.primaryCard__sub {
  margin-top: 8px;
  color: rgba(11,16,32,0.72);
}
.primaryCard__hint {
  margin-top: 14px;
  font-size: 12px;
  color: rgba(11,16,32,0.45);
}

/* Depth hint stack behind primary */
.shadowStack {
  position: absolute;
  inset: auto;
  width: min(560px, 92%);
  height: 220px;
  pointer-events: none;
}
.shadowStack__card {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 96%;
  height: 160px;
  border-radius: 26px;
  border: 1px solid rgba(10,18,40,0.08);
  background: rgba(255,255,255,0.26);
  box-shadow: 0 26px 70px rgba(10,18,40,0.10);
  filter: blur(0px);
}
.shadowStack__card--a { top: 96px; opacity: 0.30; transform: translateX(-50%) scale(0.97); }
.shadowStack__card--b { top: 120px; opacity: 0.20; transform: translateX(-50%) scale(0.94); }
.shadowStack__card--c { top: 142px; opacity: 0.14; transform: translateX(-50%) scale(0.90); }

/* Parent chat shell */
.chatShell { display: grid; gap: 12px; margin-top: 4px; }
.chatBubble {
  border-radius: 18px;
  padding: 12px 12px;
  background: rgba(255,255,255,0.48);
  border: 1px solid rgba(10,18,40,0.10);
  box-shadow: 0 16px 44px rgba(10,18,40,0.08);
}
.chatBubble--system {
  background: rgba(255,255,255,0.38);
}
.chatBubble__title {
  font-size: 12px;
  font-weight: 800;
  color: rgba(11,16,32,0.58);
}
.chatBubble__text {
  margin-top: 6px;
  font-size: 13px;
  color: rgba(11,16,32,0.72);
  line-height: 1.38;
}

/* Actions list */
.actionList { display: grid; gap: 10px; }
.actionRow {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  align-items: center;
  padding: 12px 12px;
  border-radius: 18px;
  border: 1px solid rgba(10,18,40,0.10);
  background: rgba(255,255,255,0.42);
  box-shadow: 0 16px 44px rgba(10,18,40,0.08);
}
.actionText { color: rgba(11,16,32,0.78); font-size: 13px; }

.tag {
  font-size: 11px;
  font-weight: 900;
  letter-spacing: 0.06em;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(10,18,40,0.12);
  background: rgba(255,255,255,0.52);
  color: rgba(11,16,32,0.66);
}
.tag--ceo { background: rgba(255, 220, 160, 0.40); }
.tag--md { background: rgba(170, 220, 255, 0.38); }
.tag--sys { background: rgba(210, 210, 255, 0.36); }
.tag--proj { background: rgba(200, 255, 220, 0.34); }

/* PA buttons */
.paGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.paBtn {
  border: 1px solid rgba(10,18,40,0.12);
  background: rgba(255,255,255,0.52);
  box-shadow: 0 16px 44px rgba(10,18,40,0.08);
  border-radius: 18px;
  padding: 12px 12px;
  cursor: pointer;
  display: flex;
  gap: 10px;
  align-items: center;
  transition: transform 500ms cubic-bezier(.16,1,.22,1), box-shadow 500ms cubic-bezier(.16,1,.22,1);
}
.paBtn:hover {
  transform: translateY(-2px);
  box-shadow: 0 26px 70px rgba(10,18,40,0.10);
}
.paBtn__icon { font-size: 16px; }
.paBtn__txt { font-size: 13px; font-weight: 750; color: rgba(11,16,32,0.78); }

.paNote {
  margin-top: 14px;
  border-radius: 18px;
  border: 1px solid rgba(10,18,40,0.10);
  background: rgba(255,255,255,0.38);
  padding: 12px 12px;
  box-shadow: 0 16px 44px rgba(10,18,40,0.08);
}
.paNote__title { font-weight: 900; font-size: 12px; color: rgba(11,16,32,0.62); }
.paNote__text { margin-top: 6px; font-size: 13px; color: rgba(11,16,32,0.68); line-height: 1.35; }

.ghostHint {
  border-radius: 18px;
  border: 1px dashed rgba(10,18,40,0.14);
  background: rgba(255,255,255,0.28);
  padding: 14px 14px;
  color: rgba(11,16,32,0.52);
  font-size: 13px;
}

/* Footer */
.footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 4px 6px 4px;
  color: rgba(11,16,32,0.46);
  font-size: 12px;
}

/* Responsive */
@media (max-width: 1160px) {
  .zones {
    grid-template-columns: 1fr;
    grid-template-areas:
      "spine"
      "actions"
      "pa"
      "parent"
      "ghost";
  }
  .zone { animation: none; }
}

/* ND-friendly: reduce motion when requested */
@media (prefers-reduced-motion: reduce) {
  .zone { animation: none; }
  .canvas, .paBtn { transition: none; }
}
