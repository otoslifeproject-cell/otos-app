* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  background: radial-gradient(circle at top, #eef4fa, #f8fbff);
  color: #111;
  transition: filter 0.8s ease;
}

body.blurred { filter: saturate(0.95); }

/* GLASS */
.glass {
  background: rgba(255,255,255,0.58);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border-radius: 22px;
  box-shadow:
    0 28px 48px rgba(0,0,0,0.08),
    inset 0 1px 0 rgba(255,255,255,0.6);
}

/* SHELL */
.cockpit-shell {
  min-height: 100vh;
  padding: 32px;
  display: grid;
  grid-template-rows: auto auto 1fr auto;
  gap: 32px;
}

.meta { font-size: .8rem; opacity: .6; }

/* PSA */
.psa-zone {
  padding: 34px;
  cursor: pointer;
  transition: transform .9s cubic-bezier(.22,1,.36,1),
              box-shadow .9s ease;
}

.psa-zone.focused {
  transform: translateY(-10px) scale(1.05);
  box-shadow: 0 55px 95px rgba(0,0,0,.15);
  z-index: 30;
}

/* STACK */
.stack-zone {
  max-width: 640px;
}

.stack-card {
  padding: 20px;
  margin-bottom: 14px;
  cursor: pointer;
  transition:
    transform .9s cubic-bezier(.22,1,.36,1),
    box-shadow .9s ease,
    opacity .6s ease;
}

.stack-card.focused {
  transform: translateY(-10px) scale(1.05);
  box-shadow: 0 55px 95px rgba(0,0,0,.14);
  z-index: 20;
}

.stack-card.offset { opacity: .45; }

/* PA */
.pa-zone {
  position: fixed;
  right: 28px;
  bottom: 28px;
  width: 300px;
  padding: 20px;
  cursor: grab;
}

.pa-title { font-weight: 600; }
.pa-sub { font-size: .8rem; opacity: .65; }

.pa-action {
  margin-top: 8px;
  padding: 10px;
  border-radius: 14px;
  border: none;
  background: rgba(255,255,255,.75);
}

/* FOOTER */
.cockpit-footer {
  font-size: .75rem;
  opacity: .55;
  text-align: center;
}
