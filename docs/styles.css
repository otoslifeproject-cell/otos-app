:root{
  /* Background tuned to your “bluer” screenshot */
  --bg0:#f6fbff;
  --bg1:#eaf4ff;
  --bg2:#e7f0fb;

  /* Tile surface (not stark white) */
  --card:#f9fcff;

  --ink:#0f172a;
  --muted:#5b6b7c;

  /* Accent (OTOS orange) - keep, but no neon glow */
  --accent:#f97316;
  --accent-hi:#ff9f55;

  /* Depth */
  --shadowA: rgba(15,23,42,.10);
  --shadowB: rgba(15,23,42,.18);
  --shadowC: rgba(15,23,42,.26);
  --shine: rgba(255,255,255,.92);
}

*{ box-sizing:border-box; }

html, body{
  height:100%;
}

body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1100px 700px at 40% 0%, var(--bg0) 0%, var(--bg1) 45%, var(--bg2) 100%);
}

/* Cockpit grid baseline */
.cockpit{
  position:relative;
  min-height:100vh;
  padding:28px;
  display:grid;
  grid-template-columns: 1fr 1.25fr 1fr;
  gap:22px;
  align-items:start;
}

/* Tile */
.zone{
  position:relative;
  border-radius:22px;
  padding:18px 20px;
  background: var(--card);
  /* No border; depth only */
  box-shadow:
    0 20px 46px var(--shadowA),
    0 8px 18px rgba(15,23,42,.07),
    inset 0 1px 0 var(--shine);
  transition:
    transform .22s ease,
    box-shadow .22s ease,
    filter .22s ease,
    opacity .22s ease;
  user-select:none;
}

/* hover = stage 1 lift */
.zone:hover{
  transform: translateY(-10px);
  box-shadow:
    0 28px 70px var(--shadowB),
    0 10px 22px rgba(15,23,42,.10),
    inset 0 1px 0 var(--shine);
}

/* focus = stage 2 forward */
.zone.focused{
  z-index: 50;
  transform: translateY(-14px) scale(1.02);
  box-shadow:
    0 40px 90px var(--shadowC),
    0 12px 26px rgba(15,23,42,.14),
    inset 0 1px 0 var(--shine);
  /* IMPORTANT: focused must NEVER blur */
  filter: none !important;
  opacity: 1 !important;
}

/* blur others only */
.zone.blurred{
  filter: blur(3px) saturate(.98) brightness(.98);
  opacity: .75;
}

/* when focused mode, don't allow interacting with blurred tiles */
body.has-focus .zone.blurred{
  pointer-events:none;
}

/* Absolute positioning after drag */
.zone.is-abs{
  position:absolute;
}

/* Dragging state */
.zone.dragging{
  cursor: grabbing;
  transform: translateY(-14px) scale(1.02);
  box-shadow:
    0 44px 96px rgba(15,23,42,.30),
    0 14px 30px rgba(15,23,42,.16),
    inset 0 1px 0 var(--shine);
}

/* Head */
.zone-head h2{
  margin:0 0 6px;
  font-size: 18px;
  letter-spacing:.3px;
}
.zone-head p{
  margin:0;
  font-size: 15px;
  color: var(--muted);
}

/* Expand */
.expand{
  position:absolute;
  top:12px;
  right:12px;
  width:38px;
  height:38px;
  border-radius:999px;
  border:0;
  background: rgba(255,255,255,.72);
  color: #1f2a44;
  cursor:pointer;
  box-shadow:
    0 10px 22px rgba(15,23,42,.10),
    inset 0 1px 0 rgba(255,255,255,.9);
  transition: transform .16s ease, box-shadow .16s ease;
}
.expand:hover{
  transform: scale(1.08);
  box-shadow:
    0 14px 30px rgba(15,23,42,.14),
    inset 0 1px 0 rgba(255,255,255,.9);
}

/* Subtle grab handle (not noisy) */
.grab{
  position:absolute;
  top:16px;
  left:14px;
  font-size: 14px;
  letter-spacing: 2px;
  color: rgba(15,23,42,.22);
  opacity: 0;
  transition: opacity .16s ease;
}
.zone:hover .grab{
  opacity:.9;
}

/* ANDY panel */
.panel{
  margin-top:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.drop{
  padding:14px 16px;
  border-radius:16px;
  background: rgba(234,244,255,.65);
  box-shadow:
    inset 4px 4px 10px rgba(15,23,42,.10),
    inset -4px -4px 10px rgba(255,255,255,.92);
  color: rgba(15,23,42,.65);
  font-size:15px;
}
.drop.hot{
  background: rgba(234,244,255,.95);
}

.input{
  padding:14px 16px;
  border-radius:16px;
  border:0;
  outline:none;
  background: rgba(234,244,255,.72);
  box-shadow:
    inset 4px 4px 10px rgba(15,23,42,.10),
    inset -4px -4px 10px rgba(255,255,255,.92);
  font-size:15px;
  color: var(--ink);
}

.button-row{
  display:flex;
  gap:12px;
}

.btn{
  flex:1;
  padding:14px 0;
  border-radius:18px;
  border:0;
  cursor:pointer;
  font-weight:700;
  font-size:15px;
  color:#fff;
  background: linear-gradient(180deg, var(--accent-hi), var(--accent));
  /* Depth yes, neon glow NO */
  box-shadow:
    0 10px 22px rgba(15,23,42,.16),
    inset 0 1px 0 rgba(255,255,255,.55);
  transition: transform .12s ease, box-shadow .12s ease;
}

.btn:hover{
  transform: translateY(-2px);
  box-shadow:
    0 14px 30px rgba(15,23,42,.18),
    inset 0 1px 0 rgba(255,255,255,.55);
}

.btn:active{
  transform: translateY(1px);
  box-shadow:
    0 8px 18px rgba(15,23,42,.20),
    inset 0 2px 8px rgba(15,23,42,.20);
}

.btn.secondary{
  background: rgba(255,255,255,.86);
  color: var(--ink);
  box-shadow:
    0 10px 22px rgba(15,23,42,.12),
    inset 0 1px 0 rgba(255,255,255,.9);
}

.status-row{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:14px;
  color: rgba(15,23,42,.70);
}

.dot{
  width:10px;
  height:10px;
  border-radius:999px;
  display:inline-block;
}
.dot.idle{ background: rgba(100,116,139,.55); }
.dot.complete{ background: rgba(34,197,94,.90); }

.stats{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  color: rgba(15,23,42,.70);
}

/* Responsive */
@media (max-width: 1080px){
  .cockpit{
    grid-template-columns: 1fr;
  }
  .zone.is-abs{
    width: calc(100% - 56px) !important;
  }
}
