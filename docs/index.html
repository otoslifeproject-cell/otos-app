<!-- FILE: otos-app/index.html -->
<!-- FULL SCRIPT REPLACEMENT — SAFE BASELINE WITH ANDY WIRED -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OTOS · Parent Control</title>

  <!-- Core Styles -->
  <link rel="stylesheet" href="docs/styles.css" />
</head>

<body>

  <!-- TOP BAR -->
  <div class="topbar">
    <img class="logo" src="docs/brand/logo/otos-logo-400.png" alt="OTOS Logo" />
    <div class="title">Parent · Core Control</div>
  </div>

  <!-- MAIN APP LAYOUT -->
  <div id="app">
    <div class="column" id="left"></div>
    <div class="column" id="center"></div>
    <div class="column" id="right"></div>
  </div>

  <!-- =========================
       CORE UI LOADER
       ========================= -->
  <script>
    const cols = {
      left: document.getElementById('left'),
      center: document.getElementById('center'),
      right: document.getElementById('right')
    };

    fetch('docs/registry.json')
      .then(r => {
        if (!r.ok) throw new Error('Registry fetch failed');
        return r.json();
      })
      .then(modules => {
        modules.forEach(m => {
          if (!m.enabled) return;
          if (!cols[m.slot]) return;

          const card = document.createElement('div');
          card.className = 'card';
          card.textContent = m.name;

          cols[m.slot].appendChild(card);
        });
      })
      .catch(err => {
        console.error(err);
        document.body.innerHTML =
          '<pre style="padding:20px;color:#fff;background:#111">' +
          'REGISTRY LOAD FAILED\n\n' + err.message +
          '</pre>';
      });
  </script>

  <!-- =========================
       ANDY ENGINE (ORDER LOCKED)
       ========================= -->
  <script src="docs/andy-engine.js"></script>
  <script src="docs/andy-auto-chain.js"></script>
  <script src="docs/andy-notion-feeder.js"></script>

</body>
</html>
