<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OTOS · Parent Core Control</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Main stylesheet -->
  <link id="css-main" rel="stylesheet" href="./docs/styles.css" />

  <!-- Docs fallback -->
  <script>
    (function () {
      if (location.pathname.includes("/docs/")) {
        const l = document.getElementById("css-main");
        l.href = "styles.css";
      }
    })();
  </script>
</head>

<body>

<header class="topbar">
  <div class="brand">
    <img
      id="otos-logo"
      class="logo"
      src="otos-app/docs/brand/logo/otos-logo-400.png"
      alt="OTOS"
    />
    <div class="title">Parent · Core Control</div>
  </div>

  <div class="system-pill ok">
    System idle · No execution tokens issued
  </div>
</header>

<main id="app">

  <!-- LEFT -->
  <section class="column left">
    <div class="card">
      <h3>Parent Node</h3>
      <p class="muted">Authority · Read / Lock / Authorise</p>
    </div>

    <div class="card">
      <h4>Reality Radar</h4>
      <div class="row">
        <span>Mode</span><strong>GUIDED</strong>
      </div>
      <div class="row">
        <span>Temp</span><strong>4</strong>
      </div>
    </div>

    <div class="card">
      <h4>System State</h4>
      <div class="row"><span>Locks</span><strong>Enforced</strong></div>
      <div class="row"><span>Memory</span><strong>Tiered</strong></div>
    </div>

    <div class="card">
      <h4>Execution Tokens</h4>
      <button id="issue-token" class="btn primary">
        Issue token: INGEST + READ + SUGGEST
      </button>
      <button id="revoke-token" class="btn danger">
        Revoke tokens
      </button>
      <div class="muted small">Andy cannot act without tokens.</div>
    </div>

    <div class="card">
      <h4>Notes</h4>
      <textarea placeholder="Quick notes (local only)"></textarea>
    </div>
  </section>

  <!-- CENTER -->
  <section class="column center">
    <div class="card focus">
      <h3>Focus</h3>
      <p>One action · Projects</p>
      <div class="highlight">
        Wire Andy intake + stats safely (token-gated)
      </div>
    </div>

    <div class="card">
      <h4>Projects</h4>
      <p class="muted">(Locked — loads next layer)</p>
    </div>
  </section>

  <!-- RIGHT -->
  <section class="column right">
    <div class="card">
      <h3>Andy · Execution Agent</h3>
      <p class="muted">Feeder · Intake + extraction (no promotion)</p>
    </div>

    <div class="card">
      <h4>Intake</h4>
      <input id="file-input" type="file" multiple />
      <div class="row">
        <input id="cmd" placeholder="Command: A / G / R / C / T / ?" />
        <button id="ingest-btn" class="btn primary">Ingest batch</button>
      </div>
      <div class="muted small">
        A analyse · G golden · R revenue · C canon · T tasks · ? notable
      </div>
    </div>

    <div class="card">
      <h4>Stats</h4>
      <div class="row"><span>State</span><strong id="state">IDLE</strong></div>
      <div class="row"><span>Processed</span><strong id="processed">0</strong></div>
      <div class="row"><span>Queue</span><strong id="queue">0</strong></div>
      <button id="export-archive" class="btn">
        Export Tier-3 Archive (JSON)
      </button>
    </div>

    <div class="card">
      <h4>Running Highlight Report</h4>
      <div id="highlight-report" class="highlight-box"></div>
    </div>
  </section>

</main>

<script src="./docs/andy-engine.js"></script>
</body>
</html>
