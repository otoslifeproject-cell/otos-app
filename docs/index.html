<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>OTOS · Cockpit</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root{
  --bg:#eef4fb;
  --ink:#0f172a;
  --muted:#475569;

  --surface-top:rgba(255,255,255,.95);
  --surface-bottom:rgba(255,255,255,.82);

  --shadow-deep:rgba(15,23,42,.22);
  --shadow-soft:rgba(15,23,42,.12);

  --radius:22px;
  --grid:24px;
}

/* ---------------- BASE ---------------- */
*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:
    radial-gradient(circle at top,#f9fbff,var(--bg));
  color:var(--ink);
  overflow:hidden;
}

/* ---------------- COCKPIT ---------------- */
.cockpit{
  position:relative;
  width:100%;
  height:100%;
  padding:32px;
}

/* ---------------- ZONE ---------------- */
.zone{
  position:absolute;
  width:32%;
  min-height:240px;

  padding:22px 24px;
  border-radius:var(--radius);

  background:
    linear-gradient(
      180deg,
      var(--surface-top),
      var(--surface-bottom)
    );

  /* IMPORTANT: no border, no top-left cast shadow */
  box-shadow:none;

  transform:translate3d(0,0,0);
  transition:
    transform .28s cubic-bezier(.22,.61,.36,1),
    filter .28s ease;

  will-change:transform;
  cursor:default;
}

/* Top-left attachment highlight */
.zone::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  pointer-events:none;

  box-shadow:
    inset 1px 1px 0 rgba(255,255,255,.9);
}

/* Bottom-right depth ONLY */
.zone::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  pointer-events:none;

  box-shadow:
    16px 22px 52px var(--shadow-deep),
    28px 40px 92px var(--shadow-soft);
}

/* ---------------- FOCUS ---------------- */
.zone.focused{
  transform:translate3d(0,-10px,0) scale(1.025);
  z-index:10;
}

.zone.blurred{
  filter:blur(2px) brightness(.96);
  pointer-events:none;
}

/* ---------------- HEADERS ---------------- */
.zone h2{
  margin:0 0 6px;
  font-size:1.05rem;
  letter-spacing:.02em;
}

.zone p{
  margin:0;
  color:var(--muted);
  font-size:.95rem;
}

/* ---------------- EXPAND ---------------- */
.expand{
  position:absolute;
  top:14px;
  right:14px;
  width:36px;
  height:36px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;

  background:linear-gradient(
    180deg,
    var(--surface-top),
    var(--surface-bottom)
  );

  box-shadow:
    inset 1px 1px 0 rgba(255,255,255,.9),
    6px 10px 22px rgba(15,23,42,.18);

  font-size:16px;
  cursor:pointer;
}

/* ---------------- DEFAULT LAYOUT ---------------- */
#parent{left:32px; top:32px;}
#core{left:34%; top:32px;}
#andy{left:68%; top:32px;}

/* ---------------- ANDY CONTROLS ---------------- */
.panel{
  margin-top:18px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.input{
  padding:14px 16px;
  border-radius:14px;
  border:none;
  outline:none;
  font-size:1rem;

  background:var(--bg);
  box-shadow:
    inset 4px 4px 8px rgba(15,23,42,.12),
    inset -4px -4px 8px rgba(255,255,255,.9);
}

.button-row{
  display:flex;
  gap:12px;
}

.btn{
  flex:1;
  padding:14px 0;
  border-radius:16px;
  font-weight:600;
  font-size:1rem;
  border:none;
  cursor:pointer;

  background:#ff7a1a;
  color:#fff;

  /* NO NEON */
  box-shadow:
    0 10px 22px rgba(15,23,42,.22),
    inset 0 1px 0 rgba(255,255,255,.45);

  transition:transform .15s ease;
}

.btn.secondary{
  background:#fff;
  color:var(--ink);
}

.btn:active{
  transform:translateY(1px);
}

/* ---------------- DRAGGING ---------------- */
.zone.dragging{
  transition:none !important;
  cursor:grabbing;
}
</style>
</head>

<body>

<div class="cockpit">

  <div class="zone" id="parent">
    <div class="expand">⤢</div>
    <h2>PARENT</h2>
    <p>Authority · Read · Lock · Authorise</p>
  </div>

  <div class="zone" id="core">
    <div class="expand">⤢</div>
    <h2>CORE</h2>
    <p>Primary action & thinking surface</p>
  </div>

  <div class="zone" id="andy">
    <div class="expand">⤢</div>
    <h2>ANDY</h2>
    <p>Execution agent (token-gated)</p>

    <div class="panel">
      <input class="input" placeholder="Drop file or paste text (visual only)" />
      <input class="input" placeholder="Command: A / G / R / C / T" />

      <div class="button-row">
        <button class="btn">Ingest</button>
        <button class="btn secondary">Dry run</button>
      </div>

      <p style="font-size:.9rem;color:#16a34a">● Complete</p>
    </div>
  </div>

</div>

<script>
const zones=[...document.querySelectorAll('.zone')];
let active=null,dragging=false,startX=0,startY=0,origX=0,origY=0,holdTimer=null;

const snap=v=>Math.round(v/24)*24;

zones.forEach(z=>{
  z.addEventListener('pointerdown',e=>{
    if(e.target.classList.contains('expand')) return;

    active=z;
    startX=e.clientX;
    startY=e.clientY;
    const r=z.getBoundingClientRect();
    origX=r.left;
    origY=r.top;

    holdTimer=setTimeout(()=>{
      dragging=true;
      z.classList.add('dragging');
      zones.forEach(o=>{
        if(o!==z) o.classList.add('blurred');
      });
    },140);
  });

  z.addEventListener('pointermove',e=>{
    if(!dragging) return;
    const dx=e.clientX-startX;
    const dy=e.clientY-startY;
    z.style.transform=`translate3d(${dx}px,${dy}px,0)`;
  });

  z.addEventListener('pointerup',()=>{
    clearTimeout(holdTimer);

    if(dragging){
      const r=z.getBoundingClientRect();
      const x=snap(r.left);
      const y=snap(r.top);
      z.style.left=x+"px";
      z.style.top=y+"px";
      z.style.transform="translate3d(0,0,0)";
      z.classList.remove('dragging');
    }else{
      zones.forEach(o=>{
        o.classList.toggle('focused',o===z);
        o.classList.toggle('blurred',o!==z);
      });
    }

    dragging=false;
  });
});

document.body.addEventListener('pointerdown',e=>{
  if(!e.target.closest('.zone')){
    zones.forEach(z=>z.classList.remove('focused','blurred'));
  }
});
</script>

</body>
</html>
